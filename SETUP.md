# Инструкция по настройке и запуску бота

## Шаг 1: Настройка .env файла

Убедитесь, что в файле `.env` указаны следующие переменные:

```env
BOT_TOKEN=ваш_токен_бота_от_BotFather
ADMIN_ID=ваш_telegram_id
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/dating_bot
```

### Как получить BOT_TOKEN:
1. Откройте Telegram и найдите бота @BotFather
2. Отправьте команду `/newbot`
3. Следуйте инструкциям
4. Скопируйте полученный токен в `.env`

### Как узнать ADMIN_ID:
1. Откройте Telegram и найдите бота @userinfobot
2. Отправьте команду `/start`
3. Скопируйте ваш ID в `.env`

## Шаг 2: Настройка базы данных PostgreSQL

1. Установите PostgreSQL, если еще не установлен
2. Создайте базу данных:
```sql
CREATE DATABASE dating_bot;
```

3. Обновите `DATABASE_URL` в `.env` с правильными данными:
```env
DATABASE_URL=postgresql+asyncpg://postgres:ваш_пароль@localhost:5432/dating_bot
```

## Шаг 3: Применение миграций

После настройки базы данных выполните:

```bash
alembic upgrade head
```

Это создаст все необходимые таблицы в базе данных.

## Шаг 4: Запуск бота

```bash
python bot.py
```

Бот должен запуститься и начать отвечать на сообщения.

## Проверка работы

1. Откройте Telegram и найдите вашего бота
2. Отправьте команду `/start`
3. Начните регистрацию

## Добавление университетов

После запуска бота, войдите как администратор (используя `/admin`) и добавьте университеты через админ-панель.

Формат добавления университета:
```
Полное название | Сокращение | Город
```

Например:
```
Московский государственный университет | МГУ | Москва
```

## Решение проблем

### Ошибка подключения к БД
- Проверьте, что PostgreSQL запущен
- Проверьте правильность DATABASE_URL в .env
- Убедитесь, что база данных создана

### Ошибка BOT_TOKEN
- Проверьте, что токен указан правильно в .env
- Убедитесь, что нет лишних пробелов

### Ошибка миграций
- Убедитесь, что база данных создана
- Проверьте права доступа к БД



